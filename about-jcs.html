<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Basic Meta -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About JCS · Jesus Christ Saves Token (JCS) on XRPL</title>
  <meta name="description" content="About Jesus Christ Saves Token (JCS): a faith-driven project on the XRPL focused on transparency, prayerful purpose, and real utility. Learn our mission, vision, roadmap, live metrics, and where to trade JCS." />
  <meta name="keywords" content="Jesus Christ Saves Token, JCS, XRPL, XRP Ledger, Christian Cryptocurrency, Faith Blockchain, Crypto Ministry, Sologenic, XPMarket, Bithomp" />
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />

  <!-- Canonical & Language -->
  <link rel="canonical" href="https://jesuschristsavestoken.com/about-jcs.html" />
  <link rel="alternate" hreflang="en" href="https://jesuschristsavestoken.com/about-jcs.html" />

  <!-- Favicons & App Icons (keep working paths) -->
  <link rel="icon" href="https://jesuschristsavestoken.com/jcs-logo.png" type="image/png" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://jesuschristsavestoken.com/jcs-logo-16.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://jesuschristsavestoken.com/jcs-logo-32.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="https://jesuschristsavestoken.com/jcs-logo-192.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="https://jesuschristsavestoken.com/jcs-logo-512.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://jesuschristsavestoken.com/jcs-logo-180.png" />
  <link rel="mask-icon" href="https://jesuschristsavestoken.com/safari-pinned-tab.svg" color="#004e92" />
  <meta name="msapplication-TileImage" content="https://jesuschristsavestoken.com/jcs-logo-270.png" />
  <meta name="msapplication-TileColor" content="#004e92" />
  <meta name="theme-color" content="#004e92" />

  <!-- Open Graph -->
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Jesus Christ Saves Token" />
  <meta property="og:title" content="About JCS · Jesus Christ Saves Token (JCS) on XRPL" />
  <meta property="og:description" content="Faith + transparency on the XRPL. Explore our mission, roadmap, live metrics, and where to trade JCS." />
  <meta property="og:url" content="https://jesuschristsavestoken.com/about-jcs.html" />
  <meta property="og:image" content="https://jesuschristsavestoken.com/jcs-logo.png" />
  <meta property="og:image:alt" content="Jesus Christ Saves Token Logo" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@JesusCS_token" />
  <meta name="twitter:title" content="About JCS · Jesus Christ Saves Token (JCS) on XRPL" />
  <meta name="twitter:description" content="Mission, roadmap, live metrics, and trading links for Jesus Christ Saves Token (JCS) on the XRPL." />
  <meta name="twitter:image" content="https://jesuschristsavestoken.com/jcs-logo.png" />

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Jesus Christ Saves Token",
    "url": "https://jesuschristsavestoken.com/",
    "logo": "https://jesuschristsavestoken.com/jcs-logo.png",
    "sameAs": ["https://twitter.com/JesusCS_token"]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "About JCS · Jesus Christ Saves Token (JCS) on XRPL",
    "url": "https://jesuschristsavestoken.com/about-jcs.html",
    "description": "About Jesus Christ Saves Token (JCS): mission, vision, roadmap, metrics, and trading resources."
  }
  </script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet" />

  <!-- Styles -->
  <style>
    :root{
      --gold-1:#ffd700; --gold-2:#fff8dc;
      --blue-1:#000428; --blue-2:#004e92;
      --muted:#b8c7e0; --ink:#0f1a2f;
      --card:rgba(0,0,0,.55);
      --pbg:rgba(253,250,245,.94);
      --border:rgba(255,255,255,.08);
      --glow:0 0 24px rgba(255,255,255,.55);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:'Montserrat',sans-serif; color:#fff; line-height:1.8; overflow-x:hidden;
      background:
        radial-gradient(1600px 800px at 50% -10%, rgba(255,255,255,.12), transparent),
        linear-gradient(180deg, var(--blue-1), var(--blue-2));
    }
    body::before{
      content:""; position:fixed; inset:0; pointer-events:none; z-index:-1;
      background:
        radial-gradient(1200px 600px at 50% -20%, rgba(255,255,255,.18), transparent 60%),
        conic-gradient(from 200deg at 50% 10%, rgba(255,255,255,.06), transparent 40% 80%, rgba(255,255,255,.06));
      filter:blur(1px);
    }
    a{color:#00d4ff; text-decoration:none} a:hover{text-decoration:underline}

    /* Header */
    header{
      position:fixed; top:0; left:0; width:100%; z-index:1000;
      background:rgba(0,0,0,.55); backdrop-filter: blur(8px);
      border-bottom:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between; padding:10px 28px;
    }
    header img{height:48px; filter:drop-shadow(0 0 12px rgba(255,255,255,.4))}
    nav a{margin:0 12px; font-weight:800; letter-spacing:.2px}
    .sign-ledger-btn{
      display:inline-block; background:linear-gradient(90deg,var(--gold-1),var(--gold-2)); color:#000 !important;
      padding:10px 20px; border-radius:26px; box-shadow:0 0 20px rgba(255,215,0,.8);
      font-weight:800; border:1px solid rgba(0,0,0,.12);
      transition:transform .25s ease, box-shadow .25s ease, filter .25s ease;
    }
    .sign-ledger-btn:hover{ transform:translateY(-1px) scale(1.03); box-shadow:0 0 28px rgba(255,255,255,1); filter:saturate(1.1); text-decoration:none }

    main{ padding-top:100px }
    section{ padding:56px 20px; max-width:1100px; margin:0 auto }
    h1{ font-size:clamp(1.9rem,4vw,2.6rem); font-weight:800; text-shadow:var(--glow) }
    h2{ font-size:clamp(1.6rem,3vw,2.2rem); font-weight:800; text-align:center; text-shadow:0 0 14px rgba(0,212,255,.55); margin-bottom:12px }
    p.lead{ color:var(--muted); max-width:900px; margin:10px auto 0 }

    /* Hero */
    .hero{ text-align:center }
    .hero .video-wrap{
      margin:22px auto 0; max-width:900px; border-radius:14px; overflow:hidden;
      box-shadow:0 10px 30px rgba(0,0,0,.35); border:1px solid var(--border);
      background:rgba(0,0,0,.35);
      aspect-ratio:16/9;
    }
    .hero iframe{ width:100%; height:100%; border:0; display:block }

    /* Cards */
    .card{
      background:var(--card); border:1px solid var(--border); border-radius:14px; padding:18px;
      box-shadow:0 10px 30px rgba(0,0,0,.35); color:#eaf2ff;
    }
    .grid{ display:grid; gap:16px }
    .grid.cols-2{ grid-template-columns: repeat(2, 1fr) }
    .grid.cols-3{ grid-template-columns: repeat(3, 1fr) }
    .muted{ color:var(--muted) }

    /* Metrics */
    .metrics-grid{ display:grid; gap:16px; grid-template-columns: repeat(4, 1fr) }
    .metric{ text-align:center; background:rgba(0,0,0,.6); border:1px solid var(--border); border-radius:12px; padding:18px }
    .metric .value{ font-size:1.35rem; font-weight:800; margin-top:6px; text-shadow:var(--glow) }

    /* Parchment containers (readable blocks) */
    .parch{ background:var(--pbg); color:var(--ink); border-radius:14px; box-shadow:0 8px 28px rgba(0,0,0,.25); padding:22px 20px }

    /* Link buttons */
    .link-btn{
      display:inline-block; padding:10px 16px; border-radius:12px; font-weight:800;
      background:#00d4ff; color:#000; box-shadow:0 0 16px rgba(0,212,255,.5); transition:transform .25s ease, box-shadow .25s ease;
    }
    .link-btn:hover{ background:#fff; box-shadow:0 0 24px rgba(255,255,255,.85); transform:translateY(-1px); text-decoration:none }
    .link-btn.gold{ background:linear-gradient(90deg,var(--gold-1),var(--gold-2)); box-shadow:0 0 18px rgba(255,215,0,.65) }

    /* Footer */
    footer{ text-align:center; padding:38px 20px 64px; color:var(--muted); border-top:1px solid var(--border); background:rgba(0,0,0,.45); margin-top:36px }

    /* Responsive */
    @media (max-width: 1000px){ .grid.cols-3{ grid-template-columns: 1fr 1fr } }
    @media (max-width: 860px){
      .grid.cols-2{ grid-template-columns:1fr }
      .grid.cols-3{ grid-template-columns:1fr }
      .metrics-grid{ grid-template-columns:repeat(2,1fr) }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <img src="https://jesuschristsavestoken.com/jcs-logo.png" alt="Jesus Christ Saves Token Logo" />
    <nav>
      <a href="index.html">Home</a>
      <a href="about-jcs.html">About</a>
      <a href="verify.html" class="sign-ledger-btn">🖋 Sign the Ledger</a>
    </nav>
  </header>

  <main>
    <!-- Hero / Mission -->
    <section class="hero" aria-label="About JCS">
      <h1>About Jesus Christ Saves Token (JCS)</h1>
      <p class="lead">JCS is a faith-driven project on the XRP Ledger, built to demonstrate transparent stewardship, prayerful purpose, and practical utility — using modern tools to carry an ancient truth.</p>

      <!-- YouTube Bible Video (responsive) -->
      <div class="video-wrap" aria-label="Bible Message Video">
        <iframe src="https://www.youtube.com/embed/evbHWPSjeeo" title="Bible Message" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      </div>
    </section>

    <!-- Vision & Core Values -->
    <section class="parch" aria-label="Vision and Core Values">
      <h2>Vision & Core Values</h2>
      <div class="grid cols-2" style="margin-top:12px">
        <div class="card">
          <h3>Faith First</h3>
          <p class="muted">Every feature is evaluated through a lens of stewardship, prayer, and integrity. Technology is a tool; the mission is Christ.</p>
        </div>
        <div class="card">
          <h3>Transparency</h3>
          <p class="muted">XRPL-native design, visible order books, and public explorers empower the community to verify activity and value.</p>
        </div>
        <div class="card">
          <h3>Community</h3>
          <p class="muted">Believers worldwide can connect, support causes, and signal priorities that glorify God and serve people.</p>
        </div>
        <div class="card">
          <h3>Utility</h3>
          <p class="muted">Listings, metrics, and integrations make JCS usable — not just inspirational.</p>
        </div>
      </div>
    </section>

    <!-- Live Metrics (mirrored) -->
    <section id="metrics" aria-label="Live Metrics">
      <h2>📊 Live Metrics</h2>
      <div class="metrics-grid" role="list">
        <div class="metric" role="listitem" aria-live="polite">
          <div class="label muted">Price (USD)</div>
          <div id="price" class="value">—</div>
        </div>
        <div class="metric" role="listitem" aria-live="polite">
          <div class="label muted">Market Cap</div>
          <div id="marketcap" class="value">—</div>
        </div>
        <div class="metric" role="listitem" aria-live="polite">
          <div class="label muted">Circulating Supply</div>
          <div id="supply" class="value">—</div>
        </div>
        <div class="metric" role="listitem" aria-live="polite">
          <div class="label muted">24h Change</div>
          <div id="change" class="value">N/A</div>
        </div>
      </div>
      <p class="muted" style="margin-top:10px">Price derived from XRPL order books (JCS/XRP) × XRP/USD (CoinGecko). Updates every 60s.</p>
    </section>

    <!-- Trading & Explorer Links -->
    <section aria-label="Trading and Explorer Links">
      <h2>Trade & Explore</h2>
      <div class="grid cols-3" style="margin-top:12px">
        <div class="card">
          <h3>🔗 Bithomp Explorer</h3>
          <p class="muted">View the “JesusChristSaves” XRPL account, transactions, and trust lines.</p>
          <p style="margin-top:10px">
            <a class="link-btn" href="https://bithomp.com/en/account/JesusChristSaves" target="_blank" rel="noopener">Open Bithomp</a>
          </p>
        </div>
        <div class="card">
          <h3>💱 Sologenic</h3>
          <p class="muted">Trade JCS/XRP on Sologenic’s decentralized interface.</p>
          <p style="margin-top:10px">
            <a class="link-btn" href="https://sologenic.org/trade?market=JCS%2BrPU6sXCNzsjcTUEmgJQ5SxDUzY2y1RyYKd%2FXRP" target="_blank" rel="noopener">Trade on Sologenic</a>
          </p>
        </div>
        <div class="card">
          <h3>🛒 XPMarket</h3>
          <p class="muted">Token overview, charts, and wallet actions for JCS.</p>
          <p style="margin-top:10px">
            <a class="link-btn" href="https://xpmarket.com/token/JCS-rPU6sXCNzsjcTUEmgJQ5SxDUzY2y1RyYKd" target="_blank" rel="noopener">Open XPMarket</a>
          </p>
        </div>
      </div>

      <div class="card" style="margin-top:16px; display:flex; gap:12px; flex-wrap:wrap; justify-content:center">
        <a class="link-btn gold" href="https://xrpl.services/?issuer=rPU6sXCNzsjcTUEmgJQ5SxDUzY2y1RyYKd&currency=JCS&limit=1000000000000" target="_blank" rel="noopener">➕ Set Trustline</a>
        <a class="link-btn" href="https://xpmarket.com/token/JCS-rPU6sXCNzsjcTUEmgJQ5SxDUzY2y1RyYKd" target="_blank" rel="noopener">🔗 Connect Wallet</a>
      </div>
    </section>

    <!-- Roadmap (expanded) -->
    <section id="roadmap" aria-label="Project Roadmap">
      <h2>🛣️ Roadmap</h2>
      <div class="parch" style="margin-top:10px">
        <ul style="list-style:none; padding-left:0">
          <li>✅ <strong>Launch:</strong> JCS issued on XRPL with trustline flow.</li>
          <li>✅ <strong>AirDrop:</strong> Outreach to early believers.</li>
          <li>✅ <strong>Liquidity:</strong> Pool pegged to XRP; live trading links.</li>
          <li>✨ <strong>Micro-Transactions:</strong> 1M on-ledger engagement goal.</li>
          <li>✨ <strong>Listings:</strong> CoinGecko & CoinMarketCap applications and data sync.</li>
          <li>✨ <strong>NFTs:</strong> Christian art series and rewards alignment.</li>
          <li>⬜ <strong>Escrow:</strong> Transparent reserves / time-based releases.</li>
          <li>⬜ <strong>Major Exchanges:</strong> Coinbase & others — phased submissions.</li>
          <li>⬜ <strong>Global Prayer Network:</strong> Opt-in governance for charitable focus.</li>
        </ul>
      </div>
    </section>

    <!-- FAQ (expanded) -->
    <section id="faq" aria-label="Frequently Asked Questions">
      <h2>❓ FAQ</h2>
      <div class="grid cols-2" style="margin-top:12px">
        <div class="card">
          <h3>Why a Christian token?</h3>
          <p class="muted">We’re using transparent, open infrastructure to carry a message older than any ledger: Jesus saves. JCS pairs faith with verifiable tech.</p>
        </div>
        <div class="card">
          <h3>How do I start?</h3>
          <p class="muted">Set the trustline, connect your wallet, and explore the trading links. Then follow updates on our roadmap items and join the community.</p>
        </div>
        <div class="card">
          <h3>Is a trustline safe?</h3>
          <p class="muted">Trustlines are standard XRPL features; they don’t lock your XRP — they simply allow your wallet to hold JCS.</p>
        </div>
        <div class="card">
          <h3>What’s the long-term vision?</h3>
          <p class="muted">A faith-driven ecosystem with transparent reserves, listings, microtransactions, and artistic/charitable initiatives that honor Christ.</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    © 2025 Jesus Christ Saves Token. All Rights Reserved.
  </footer>

  <!-- XRPL Metrics -->
  <script src="https://unpkg.com/xrpl@2.7.0/build/xrpl-latest-min.js"></script>
  <script>
    async function fetchXRPLMetrics() {
      const issuer = "rPU6sXCNzsjcTUEmgJQ5SxDUzY2y1RyYKd";
      const currency = "JCS";
      let client;

      try {
        client = new xrpl.Client("wss://xrplcluster.com");
        await client.connect();

        // Best price from order book (JCS/XRP)
        const bookOffers = await client.request({
          command: "book_offers",
          taker_gets: { currency, issuer },
          taker_pays: { currency: "XRP" },
          limit: 1
        });

        let priceXRP = 0;
        if (bookOffers.result.offers && bookOffers.result.offers.length > 0) {
          const offer = bookOffers.result.offers[0];
          priceXRP = (Number(offer.TakerPays) / 1_000_000) / Number(offer.TakerGets.value);
        }

        // XRP→USD
        const xrpPriceRes = await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ripple&vs_currencies=usd");
        const xrpData = await xrpPriceRes.json();
        const xrpUSD = xrpData?.ripple?.usd ?? 0;
        const priceUSD = priceXRP * xrpUSD;

        // Circulating supply via account_lines (sum of balances)
        const accountLines = await client.request({ command: "account_lines", account: issuer });
        let totalSupply = 0;
        for (const line of (accountLines.result.lines || [])) {
          if (line.currency === currency) totalSupply += parseFloat(line.balance);
        }

        const marketCap = totalSupply * (priceUSD || 0);

        document.getElementById('price').innerText = priceUSD ? `$${priceUSD.toFixed(6)}` : "—";
        document.getElementById('marketcap').innerText = isFinite(marketCap) ? `$${marketCap.toLocaleString()}` : "—";
        document.getElementById('supply').innerText = `${Number.isFinite(totalSupply) ? totalSupply.toLocaleString() : "—"} JCS`;
        document.getElementById('change').innerText = "N/A"; // (Optional) compute from localStorage baseline if desired
      } catch (e) {
        console.error("Metrics error:", e);
      } finally {
        try { if (client) await client.disconnect(); } catch {}
      }
    }
    fetchXRPLMetrics();
    setInterval(fetchXRPLMetrics, 60000);
  </script>
</body>
</html>    max-width: 1100px;
    margin: 2rem auto;
    padding: 2rem;
    background: rgba(253,250,245,0.94); /* parchment */
    border-radius: 14px;
    box-shadow: 0 8px 28px rgba(0,0,0,0.25);
    position: relative; z-index: 1;
    animation: fadeIn 0.8s ease-in-out;
    backdrop-filter: blur(2px);
  }

  h2, h3 {
    position: relative;
    margin-top: 0;
  }
  h2::before, h3::before {
    content: "✝️ ";
    position: relative; left: -4px;
  }

  .verse {
    font-family: 'Dancing Script', cursive;
    background: #fff8e7;
    padding: 1rem;
    border-left: 6px solid var(--gold);
    font-size: 1.4rem;
    border-radius: 8px;
    margin: 1.25rem 0 0;
    text-align: center;
    transition: opacity .5s ease-in-out;
  }

  /* Top bar controls */
  .top-controls{
    margin-top: .75rem;
    display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:center;
  }
  .music-toggle{
    background: var(--accent);
    color:#fff; border:none; padding:.6rem .9rem; border-radius:8px; cursor:pointer;
  }
  .music-toggle:hover{ background: var(--accent-2); }

  /* Prayer Wall */
  .prayer-wall-container { margin-top: 2rem; }
  .collapsible {
    background: var(--accent);
    color: white;
    padding: 1rem;
    cursor: pointer;
    border: none;
    border-radius: 10px;
    font-weight: bold;
    transition: 0.25s ease;
    width: 100%;
  }
  .collapsible:hover { background: var(--accent-2); }
  .content { display: none; margin-top: 1rem; }

  .flex-sections {
    display: flex; gap: 20px; flex-wrap: wrap;
  }
  .section {
    flex: 1;
    min-width: 300px;
    background: var(--panel);
    border-radius: 12px;
    padding: 1rem;
    box-shadow: 0 4px 18px rgba(0,0,0,0.08);
    display: flex; flex-direction: column;
    max-height: 520px;
    border: 2px solid transparent;
    transition: border-color .25s ease;
  }
  .section:hover { border-color: var(--gold); }
  .section h3{ margin-bottom: .5rem; }

  /* Scrollable feeds */
  #prayers, #answered-list {
    max-height: 420px;
    overflow-y: auto; overflow-x: hidden;
    padding-right: 6px;
  }

  /* Form */
  .prayer-form {
    display: flex; flex-direction: column; gap: 10px; margin-bottom: .5rem;
  }
  .prayer-form input, .prayer-form textarea {
    padding: 0.85rem;
    border-radius: 8px;
    border: 1px solid #cfcfcf;
    background: var(--parchment-2);
    transition: box-shadow 0.25s ease, border-color 0.25s ease;
  }
  .prayer-form input:focus, .prayer-form textarea:focus {
    box-shadow: 0 0 7px rgba(0,78,146,0.35);
    outline: none; border-color: var(--accent);
  }
  .prayer-form button {
    background: var(--accent);
    color: white;
    padding: 0.85rem;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.25s ease, transform .05s ease;
    font-weight: 700;
  }
  .prayer-form button:active{ transform: translateY(1px); }
  .prayer-form button:hover { background: var(--accent-2); }

  /* Items */
  .list-subtitle{ margin: .3rem 0 .5rem; font-size:.95rem; opacity:.8; }
  .prayer-item {
    background: var(--parchment);
    border-left: 4px solid #002147;
    border-radius: 10px;
    padding: 0.8rem;
    margin-bottom: 10px;
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    gap: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    opacity: 0;
    animation: fadeInUp .7s forwards;
  }
  .item-main{ display:flex; align-items:center; gap:10px; }
  .name{ font-weight:700; }
  .text{ opacity:.95; }

  .controls{
    display:flex; gap:6px; flex-wrap:wrap; justify-self:end;
  }
  .btn{
    border:none; padding:6px 10px; border-radius:7px; cursor:pointer; color:#fff;
    transition: filter .2s ease;
  }
  .btn:hover{ filter: brightness(1.05); }
  .btn-amen{ background: var(--amen); }
  .btn-edit{ background: #607d8b; }
  .btn-delete{ background: var(--danger); }
  .btn-answered{ background: #b48806; } /* gold-ish */
  .btn-restore{ background: #6c5ce7; }

  /* Read checkbox (kept for parity with your version) */
  .read-wrap{ display:flex; align-items:center; gap:6px; }
  .read-wrap input[type="checkbox"]{
    transform: scale(1.2);
    transition: all 0.3s ease-in-out;
    accent-color: var(--amen);
  }
  @keyframes greenPulse {
    0% { box-shadow: 0 0 5px #28a745, 0 0 10px rgba(40, 167, 69, 0.4); }
    50% { box-shadow: 0 0 14px #28a745, 0 0 24px rgba(40, 167, 69, 0.75); }
    100% { box-shadow: 0 0 5px #28a745, 0 0 10px rgba(40, 167, 69, 0.4); }
  }
  .read-wrap input[type="checkbox"]:checked{ animation: greenPulse 1.6s infinite; }

  /* Candle flicker */
  .candle{
    position: fixed;
    right: 18px; bottom: 18px;
    background: rgba(255,255,255,0.9);
    padding: 8px 12px;
    border-radius: 999px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.25);
    display:none; align-items:center; gap:8px; z-index: 5;
  }
  .candle.on{ display:flex; animation: fadeIn .3s ease; }
  .flame{ font-size: 1.15rem; animation: flicker 1s infinite ease-in-out; }
  @keyframes flicker {
    0%,100% { transform: translateY(0) scale(1); opacity: 0.9; }
    50% { transform: translateY(-1px) scale(1.05); opacity: 1; }
  }

  /* New highlight */
  .new-highlight{
    box-shadow: 0 0 0 2px var(--gold) inset, 0 0 16px rgba(255,215,0,0.4);
    animation: glowOut 2.2s ease forwards;
  }
  @keyframes glowOut{
    0%{ box-shadow: 0 0 0 2px var(--gold) inset, 0 0 18px rgba(255,215,0,0.55); }
    100%{ box-shadow: none; }
  }

  /* Animations */
  @keyframes fadeIn { from{opacity:0} to{opacity:1} }
  @keyframes fadeInUp { from{opacity:0; transform:translateY(16px);} to{opacity:1; transform:translateY(0);} }
</style>
</head>
<body>

<nav>
  <a href="index.html">Home</a>
  <a href="Prayer-Map.html">Prayer Map</a>
</nav>

<div class="container">
  <h2>Our Mission</h2>
  <p>
    Jesus Christ Saves Token (JCS) exists to spread the good news of salvation through our Lord and Savior, Jesus Christ.
    We believe in proclaiming the Gospel not only through the Holy Bible and through our words, but also through the tools of today — technology and the XRP Ledger.
    By combining faith and innovation, we create a platform where believers can share their prayers, lift each other up, and demonstrate the love of God in a digital world.
    Through JCS, we carry the message of Christ to the nations, showing that His light shines even in the newest frontiers.
  </p>

  <div class="verse" id="verse">Loading verse…</div>

  <div class="top-controls">
    <button id="music-toggle" class="music-toggle" aria-label="Toggle background worship music">🎵 Play Ambient Worship</button>
    <audio id="bg-music" loop preload="none" src="music/ambient.mp3"></audio>
  </div>
</div>

<div class="container prayer-wall-container">
  <button type="button" class="collapsible">Show / Hide Prayer Wall</button>
  <div class="content" id="wall">
    <div class="flex-sections">
      <div class="section">
        <h3>Interactive Prayer Wall 🙏</h3>
        <form id="prayer-form" class="prayer-form" autocomplete="off">
          <input type="text" id="name" placeholder="Your Name" required aria-label="Your name">
          <textarea id="prayer" placeholder="Write your prayer..." rows="4" required aria-label="Your prayer"></textarea>
          <label class="read-wrap" style="justify-content:flex-start;">
            <input type="checkbox" id="private"> Keep my prayer private
          </label>
          <button type="submit">Submit Prayer</button>
          <div id="success-message" style="display:none;color:green;font-weight:bold;">Your prayer has been posted 🕯</div>
        </form>

        <div class="list-subtitle">Active Prayers</div>
        <div id="prayers" aria-live="polite"></div>
      </div>

      <div class="section">
        <h3>Praying For 🕊</h3>
        <div id="answered-list" aria-live="polite"></div>
      </div>
    </div>
  </div>
</div>

<!-- Candle -->
<div class="candle" id="candle"><span class="flame">🕯</span><span>Submitted</span></div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  /* ===== Scripture Rotator ===== */
  const verseEl = document.getElementById("verse");
  const verses = [
    `"The thief comes only to steal and kill and destroy; I have come that they may have life, and have it to the full." — John 10:10`,
    `"For God so loved the world that he gave his one and only Son, that whoever believes in him shall not perish but have eternal life." — John 3:16`,
    `"I can do all things through Christ who strengthens me." — Philippians 4:13`,
    `"The Lord is my shepherd, I lack nothing." — Psalm 23:1`,
    `"Come to me, all you who are weary and burdened, and I will give you rest." — Matthew 11:28`
  ];
  let currentVerse = 0;
  const updateVerse = () => {
    verseEl.style.opacity = 0;
    setTimeout(() => {
      verseEl.textContent = verses[currentVerse];
      verseEl.style.opacity = 1;
      currentVerse = (currentVerse + 1) % verses.length;
    }, 500);
  };
  updateVerse();
  setInterval(updateVerse, 20000);

  /* ===== Collapsible (remember open state) ===== */
  const coll = document.querySelector(".collapsible");
  const content = document.querySelector(".content");
  const isOpen = localStorage.getItem("prayerWallOpen") === "true";
  if (isOpen) content.style.display = "block";
  coll.addEventListener("click", () => {
    const open = content.style.display === "block";
    content.style.display = open ? "none" : "block";
    localStorage.setItem("prayerWallOpen", !open);
  });

  /* ===== Music Toggle (remember preference) ===== */
  const musicBtn = document.getElementById("music-toggle");
  const musicEl = document.getElementById("bg-music");
  const musicOn = localStorage.getItem("musicOn") === "true";
  const setMusicButtonText = (on) => {
    musicBtn.textContent = on ? "🎵 Pause Ambient Worship" : "🎵 Play Ambient Worship";
  };
  setMusicButtonText(musicOn);
  if (musicOn) {
    // Autoplay often blocked until user interaction; we also toggle on first click anywhere
    const tryPlay = () => musicEl.play().catch(()=>{});
    document.body.addEventListener("click", tryPlay, { once: true });
  }
  musicBtn.addEventListener("click", async () => {
    if (musicEl.paused) {
      try { await musicEl.play(); localStorage.setItem("musicOn", true); setMusicButtonText(true); }
      catch(e){ /* ignore */ }
    } else {
      musicEl.pause(); localStorage.setItem("musicOn", false); setMusicButtonText(false);
    }
  });

  /* ===== Data & Rendering ===== */
  const form = document.getElementById("prayer-form");
  const activeEl = document.getElementById("prayers");
  const answeredEl = document.getElementById("answered-list");
  const successMsg = document.getElementById("success-message");
  const candle = document.getElementById("candle");

  let prayers = JSON.parse(localStorage.getItem("prayers") || "[]");

  // Migration / defaults for older saved entries
  prayers = prayers.map((p, i) => ({
    id: p.id || (Date.now() + i + Math.floor(Math.random()*1000)),
    name: p.name || "Anonymous",
    text: p.text || "",
    read: !!p.read,
    amens: p.amens || 0,
    answered: !!p.answered,
    createdAt: p.createdAt || Date.now()
  }));

  const savePrayers = () => localStorage.setItem("prayers", JSON.stringify(prayers));
  const byId = (id) => prayers.findIndex(x => x.id === id);

  function createItem(prayer, answeredList=false){
    const wrap = document.createElement("div");
    wrap.className = "prayer-item";
    wrap.dataset.id = prayer.id;

    const main = document.createElement("div");
    main.className = "item-main";

    // Read checkbox (kept for your original feature)
    const readWrap = document.createElement("label");
    readWrap.className = "read-wrap";
    const cb = document.createElement("input");
    cb.type = "checkbox";
    cb.checked = !!prayer.read;
    cb.title = "Mark as read";
    cb.addEventListener("change", () => {
      const idx = byId(prayer.id);
      if (idx>-1) { prayers[idx].read = cb.checked; savePrayers(); }
    });
    readWrap.appendChild(cb);

    const meta = document.createElement("div");
    const name = document.createElement("span"); name.className="name"; name.textContent = prayer.name + ": ";
    const text = document.createElement("span"); text.className="text"; text.textContent = prayer.text;
    meta.appendChild(name); meta.appendChild(text);

    main.appendChild(readWrap);
    main.appendChild(meta);

    const controls = document.createElement("div");
    controls.className = "controls";

    const amenBtn = document.createElement("button");
    amenBtn.className = "btn btn-amen";
    amenBtn.innerHTML = `💙 Amen (${prayer.amens||0})`;
    amenBtn.addEventListener("click", () => {
      const idx = byId(prayer.id);
      if (idx>-1) {
        prayers[idx].amens = (prayers[idx].amens || 0) + 1;
        savePrayers(); renderAll();
      }
    });

    const editBtn = document.createElement("button");
    editBtn.className = "btn btn-edit";
    editBtn.textContent = "Edit";
    editBtn.addEventListener("click", () => {
      const idx = byId(prayer.id);
      if (idx>-1) {
        const newText = prompt("Edit prayer text:", prayers[idx].text);
        if (newText !== null && newText.trim() !== "") {
          prayers[idx].text = newText.trim();
          savePrayers(); renderAll();
        }
      }
    });

    const delBtn = document.createElement("button");
    delBtn.className = "btn btn-delete";
    delBtn.textContent = "Delete";
    delBtn.addEventListener("click", () => {
      if (confirm("Delete this prayer?")) {
        const idx = byId(prayer.id);
        if (idx>-1){ prayers.splice(idx,1); savePrayers(); renderAll(); }
      }
    });

    controls.appendChild(amenBtn);
    controls.appendChild(editBtn);
    controls.appendChild(delBtn);

    if (!answeredList){
      const ansBtn = document.createElement("button");
      ansBtn.className = "btn btn-answered";
      ansBtn.textContent = "Pray For";
      ansBtn.addEventListener("click", () => {
        const idx = byId(prayer.id);
        if (idx>-1){ prayers[idx].answered = true; savePrayers(); renderAll(); }
      });
      controls.appendChild(ansBtn);
    } else {
      const restoreBtn = document.createElement("button");
      restoreBtn.className = "btn btn-restore";
      restoreBtn.textContent = "Restore";
      restoreBtn.addEventListener("click", () => {
        const idx = byId(prayer.id);
        if (idx>-1){ prayers[idx].answered = false; savePrayers(); renderAll(); }
      });
      controls.appendChild(restoreBtn);
    }

    wrap.appendChild(main);
    wrap.appendChild(controls);
    return wrap;
  }

  function renderAll(){
    activeEl.innerHTML = "";
    answeredEl.innerHTML = "";
    const active = prayers.filter(p => !p.answered).sort((a,b)=>b.createdAt-a.createdAt);
    const answered = prayers.filter(p => p.answered).sort((a,b)=>b.createdAt-a.createdAt);

    active.forEach(p => activeEl.appendChild(createItem(p,false)));
    answered.forEach(p => answeredEl.appendChild(createItem(p,true)));
  }

  /* Submit */
  form.addEventListener("submit", (e) => {
    e.preventDefault();
    const name = (document.getElementById("name").value || "Anonymous").trim();
    const textRaw = (document.getElementById("prayer").value || "").trim();
    const priv = document.getElementById("private").checked;

    if (!textRaw) return;

    const entry = {
      id: Date.now(),
      name,
      text: priv ? "[Private Prayer]" : textRaw,
      read: false,
      amens: 0,
      answered: false,
      createdAt: Date.now()
    };
    prayers.unshift(entry);
    savePrayers();
    form.reset();

    // Feedback
    successMsg.style.display = "block";
    setTimeout(() => successMsg.style.display = "none", 2000);

    renderAll();

    // Highlight the newest item and show candle
    const firstItem = activeEl.querySelector(".prayer-item");
    if (firstItem){ firstItem.classList.add("new-highlight"); setTimeout(()=>firstItem.classList.remove("new-highlight"), 2200); }
    candle.classList.add("on"); setTimeout(()=>candle.classList.remove("on"), 2200);
  });

  renderAll();
});
</script>
</body>
</html>
