<!DOCTYPE html>
<html lang="en">
<head>
<!-- 
  ===================================
  META SECTION â€” JCS + XAMAN + AI-READY
  ===================================
-->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Xaman Wallet Connect Â· Jesus Christ Saves Token (JCS)</title>

<!-- Canonical & Language -->
<link rel="canonical" href="https://jesuschristsavestoken.com/connectwallet.html" />
<link rel="alternate" hreflang="en" href="https://jesuschristsavestoken.com/connectwallet.html" />

<!-- Primary SEO -->
<meta name="description" content="Connect your Xaman (formerly Xumm) wallet to interact with Jesus Christ Saves Token (JCS) on the XRP Ledger. Non-custodial, open, AI-readable manifest, and verifiable on-ledger." />
<meta name="keywords" content="Jesus Christ Saves Token, JCS, Xaman, Xumm, XRPL, XRP Ledger, Christian crypto, faith token, connect wallet, non-custodial, AI manifest" />
<meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
<meta name="theme-color" content="#111111" />

<!-- Open Graph -->
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Jesus Christ Saves Token" />
<meta property="og:title" content="Xaman Wallet Connect Â· Jesus Christ Saves Token (JCS)" />
<meta property="og:description" content="Non-custodial XRPL connect for JCS. Transparent, AI-discoverable, and verifiable on-ledger." />
<meta property="og:url" content="https://jesuschristsavestoken.com/connectwallet.html" />
<meta property="og:image" content="https://jesuschristsavestoken.com/shroud-bg.jpg" />
<meta property="og:image:alt" content="Shroud-themed backdrop for JCS Wallet Connect" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@JesusCS_token" />
<meta name="twitter:title" content="Xaman Wallet Connect Â· Jesus Christ Saves Token (JCS)" />
<meta name="twitter:description" content="Connect via Xaman to interact with JCS on XRPL â€” non-custodial and AI-readable." />
<meta name="twitter:image" content="https://jesuschristsavestoken.com/shroud-bg.jpg" />

<!-- AI & XRPL Discoverability -->
<link rel="alternate" type="application/json" href="/ai.json" title="AI Manifest" />
<link rel="asset" href="/.well-known/xrpl.toml" type="text/plain" />

<!-- Favicons & App Icons -->
<link rel="icon" href="https://jesuschristsavestoken.com/jcs-logo.png" type="image/png" />
<link rel="icon" type="image/png" sizes="32x32" href="https://jesuschristsavestoken.com/jcs-logo-32.png" />
<link rel="icon" type="image/png" sizes="192x192" href="https://jesuschristsavestoken.com/jcs-logo-192.png" />
<link rel="apple-touch-icon" sizes="180x180" href="https://jesuschristsavestoken.com/jcs-logo-180.png" />
<meta name="msapplication-TileImage" content="https://jesuschristsavestoken.com/jcs-logo-270.png" />
<meta name="msapplication-TileColor" content="#111111" />

<!-- Performance: DNS Prefetch / Preconnect -->
<link rel="dns-prefetch" href="https://fonts.googleapis.com" />
<link rel="dns-prefetch" href="https://fonts.gstatic.com" />
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="dns-prefetch" href="https://xaman.app" />
<link rel="preconnect" href="https://xaman.app" crossorigin />
<link rel="dns-prefetch" href="https://api.coingecko.com" />
<link rel="dns-prefetch" href="wss://xrplcluster.com" />

<!-- Structured Data (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Jesus Christ Saves Token",
  "url": "https://jesuschristsavestoken.com/",
  "logo": "https://jesuschristsavestoken.com/jcs-logo.png",
  "sameAs": ["https://x.com/JesusCS_token"],
  "additionalProperty": [
    { "@type": "PropertyValue", "name": "XRPL Issuer", "value": "rPU6sXCNzsjcTUEmgJQ5SxDUzY2y1RyYKd" },
    { "@type": "PropertyValue", "name": "Currency Code", "value": "JCS" },
    { "@type": "PropertyValue", "name": "AI Manifest", "value": "https://jesuschristsavestoken.com/ai.json" },
    { "@type": "PropertyValue", "name": "XRPL TOML", "value": "https://jesuschristsavestoken.com/.well-known/xrpl.toml" }
  ]
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "url": "https://jesuschristsavestoken.com/",
  "name": "Jesus Christ Saves Token (JCS)",
  "description": "Faith-based cryptocurrency on the XRPL for believers worldwide.",
  "publisher": {
    "@type": "Organization",
    "name": "Jesus Christ Saves Token",
    "logo": { "@type": "ImageObject", "url": "https://jesuschristsavestoken.com/jcs-logo.png" }
  },
  "potentialAction": {
    "@type": "Action",
    "name": "Connect via Xaman",
    "target": "https://jesuschristsavestoken.com/connectwallet.html"
  }
}
</script>

<!-- Optional: describe this specific page as a WebApplication -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "JCS Â· Wallet Connect (Xaman)",
  "operatingSystem": "Web",
  "applicationCategory": "FinanceApplication",
  "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
  "softwareVersion": "1.0",
  "url": "https://jesuschristsavestoken.com/connectwallet.html",
  "about": {
    "@type": "Thing",
    "name": "Jesus Christ Saves Token (JCS)",
    "sameAs": "https://jesuschristsavestoken.com/"
  }
}
</script>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />

<style>
/* ============================================================
   Xaman (Xumm) QR Modal â€” (FYI: iframe-insulated; harmless to keep)
   ============================================================ */
.xumm-about,
[data-testid="xumm-about"],
.xumm-modal-header a[href*="about"],
.xumm-modal-header button[aria-label="About"],
.xumm-qr-modal a[href*="/about"],
.xumm-qr a[href*="/about"] { display: none !important; }

.xumm-modal-header a.xumm-title,
.xumm-modal-header a.xumm-title-link,
.xumm-modal-header h1 a,
.xumm-modal-header h2 a,
.xumm-modal-header .xumm-title a,
.xumm-modal-header .title a,
.xumm-qr .xumm-title a,
.xumm-qr .title a,
.xumm-modal-header > a:first-child,
.xumm-modal-header .brand a,
.xumm-modal-header .logo a {
  pointer-events: none !important;
  cursor: default !important;
  text-decoration: none !important;
  color: inherit !important;
}
</style>

<!-- Xumm/Xaman SDK -->
<script src="https://xaman.app/assets/cdn/xumm.min.js"></script>
</head>
<body>

<header>
  <h1>Codex Verbi Dei</h1>
  <p>"Et Verbum caro factum est, et habitavit in nobis." â€” John 1:14</p>
</header>

<div id="walletAddress">Status: Not connected</div>

<!-- Interaction buttons -->
<div class="btn-row">
  <button id="trustlineButton" style="display:none">âž• Set JCS Trustline</button>
  <button id="buyButton" style="display:none">ðŸ’¸ Buy JCS Tokens (1 XRP)</button>
  <button id="connectWalletButton">Connect Wallet</button>
  <button id="logoutButton" style="display:none">Logout</button>

  <!-- NEW: About Xaman (formerly Xumm) -->
  <a
    id="aboutXamanButton"
    href="https://xaman.app/"
    target="_blank"
    rel="noopener"
    role="button"
    style="padding:10px 28px;margin:12px;font-size:1em;border:none;border-radius:6px;cursor:pointer;font-weight:bold;transition:.3s;background:#444;color:#fff;display:inline-block;text-decoration:none"
  >About Xaman</a>
</div>

<div id="status"></div>

<!-- Ledger Counter -->
<div class="ledger-counter" id="ledgerCounter">Ledger Count: 0</div>

<!-- Cryptic Verses -->
<div class="scroll-verse">
  "Beati pauperes spiritu, quoniam ipsorum est regnum caelorum."<br>
  <em>â€” Dead Sea Scroll Fragment echoing Matthew 5:3</em>
</div>
<div class="scroll-verse">
  "Ego sum lux mundi; qui sequitur me, non ambulabit in tenebris."<br>
  <em>â€” Jesus, John 8:12</em>
</div>

<script>
  // Initialize SDK with your public API key
  const xumm = new Xumm('7737775c-1645-4a4e-a92d-ffe51530a348');

  // UI Elements
  const connectWalletButton = document.getElementById('connectWalletButton');
  const walletAddressElement = document.getElementById('walletAddress');
  const logoutButton = document.getElementById('logoutButton');
  const statusDiv = document.getElementById('status');
  const ledgerCounter = document.getElementById('ledgerCounter');

  // Ledger ticker simulation (for demo)
  let ledger = 987654;
  setInterval(() => {
    ledger += Math.floor(Math.random() * 3); // simulate new ledgers
    ledgerCounter.textContent = "Ledger Count: " + ledger.toLocaleString();
  }, 4000);

  // Wait for SDK to be ready
  xumm.on('ready', () => {
    statusDiv.textContent = 'Xumm SDK loaded and ready.';
    connectWalletButton.disabled = false;
  });

  // "Connect Wallet"
  connectWalletButton.onclick = () => {
    statusDiv.textContent = 'Connecting to Xumm wallet...';
    xumm.authorize().catch(error => {
      statusDiv.textContent = 'Authorization failed: ' + error.message;
    });
  };

  // On success
  xumm.on('success', async () => {
    const account = await xumm.user.account;
    walletAddressElement.textContent = 'Wallet Connected: ' + account;
    connectWalletButton.style.display = 'none';
    logoutButton.style.display = '';
    statusDiv.textContent = 'Connected successfully.';
  });

  // On logout
  xumm.on('logout', async () => {
    walletAddressElement.textContent = 'Status: Not connected';
    connectWalletButton.style.display = '';
    logoutButton.style.display = 'none';
    statusDiv.textContent = 'You have logged out.';
  });

  // Manual logout
  logoutButton.onclick = () => {
    xumm.logout();
    statusDiv.textContent = 'Logging out...';
  };
</script>

<!-- >>> KEEP ONLY THIS ONE SHIELD SCRIPT BELOW <<< -->
<script>
(function () {
  const HEADER_HEIGHT = 64; // px; adjust if your Xaman modal header is taller/shorter
  let shield = null, trackedIframe = null;

  function makeShield() {
    if (shield) return shield;
    shield = document.createElement('div');
    shield.style.position = 'fixed';
    shield.style.left = '0';
    shield.style.top = '0';
    shield.style.width = '0';
    shield.style.height = '0';
    shield.style.zIndex = '2147483646';
    shield.style.pointerEvents = 'auto';      // absorb clicks
    shield.style.background = 'transparent';  // keep header visible
    // If you also want to visually hide the header, use:
    // shield.style.background = 'rgba(0,0,0,0.9)';
    document.body.appendChild(shield);
    return shield;
  }

  function positionShieldOverHeader(ifr) {
    const s = makeShield();
    const r = ifr.getBoundingClientRect();
    s.style.left = r.left + 'px';
    s.style.top = r.top + 'px';
    s.style.width = r.width + 'px';
    s.style.height = Math.min(HEADER_HEIGHT, r.height) + 'px';
    s.style.display = 'block';
  }

  function hideShield() { if (shield) shield.style.display = 'none'; }

  function looksLikeXamanIframe(el) {
    if (!(el instanceof HTMLIFrameElement)) return false;
    const src = (el.getAttribute('src') || '').toLowerCase();
    const title = (el.getAttribute('title') || '').toLowerCase();
    return /xumm|xaman/.test(src) || /xumm|xaman/.test(title);
  }

  function scanForIframe() {
    const iframes = Array.from(document.querySelectorAll('iframe'));
    return iframes.find(looksLikeXamanIframe) || null;
  }

  function tick() {
    const ifr = scanForIframe();
    if (ifr) { trackedIframe = ifr; positionShieldOverHeader(ifr); }
    else { trackedIframe = null; hideShield(); }
  }

  const ro = new ResizeObserver(() => { if (trackedIframe) positionShieldOverHeader(trackedIframe); });
  const mo = new MutationObserver(() => tick());
  mo.observe(document.documentElement, { childList: true, subtree: true, attributes: true });
  window.addEventListener('resize', tick, { passive: true });
  window.addEventListener('scroll', tick, { passive: true });

  // Observe iframes for size changes
  const io = new MutationObserver(() => {
    document.querySelectorAll('iframe').forEach(ifr => { try { ro.observe(ifr); } catch {} });
  });
  io.observe(document.documentElement, { childList: true, subtree: true });

  // Keep aligned with animations/layout changes
  (function loop(){ tick(); requestAnimationFrame(loop); })();
})();
</script>

</body>
</html>

